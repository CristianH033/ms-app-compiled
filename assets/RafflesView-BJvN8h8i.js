import{_ as E}from"./RafflesList.vue_vue_type_script_setup_true_lang-Bylh5nYV.js";import{o as u,c as g,a as m,d as f,r as $,m as F,b as s,w as t,e,l as h,p as v,q as L,s as N,x as C,j as b,v as _,y as q,z as k,P as S,D as A,n as B,A as x,B as D,C as P,J as T,Q as j,Z as M,E as V,Y as O,H as R,G as I,_ as w}from"./index-DXD8wtHT.js";import{g as H}from"./raffles-CNL24dC6.js";import{t as J,z as d,u as X,_ as Y,a as Z,b as G,c as Q,d as K,F as U}from"./Input.vue_vue_type_script_setup_true_lang-CIZM56Aq.js";import{c as W}from"./createLucideIcon-CLd5fvjK.js";import"./CardTitle.vue_vue_type_script_setup_true_lang-CVVyWI8u.js";import"./CardFooter.vue_vue_type_script_setup_true_lang-CBt8eQKG.js";import"./cup-star-line-duotone-DPmKQnsl.js";const ee={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ae=m("g",{fill:"none",stroke:"currentColor","stroke-width":"1.5"},[m("circle",{cx:"12",cy:"12",r:"10",opacity:".5"}),m("path",{"stroke-linecap":"round",d:"M15 12h-3m0 0H9m3 0V9m0 3v3"})],-1),se=[ae];function te(r,a){return u(),g("svg",ee,[...se])}const oe={name:"solar-add-circle-line-duotone",render:te},re=["aria-disabled"],ne=5e6,le=f({__name:"RaffleForm",setup(r){const a=$(!1),o=["image/jpeg","image/jpg","image/png","image/webp"],n=J(d.object({draw_id:d.number({required_error:"El sorteo es requerido"}),name:d.string({required_error:"Nombre es requerido"}).min(3,{message:"Nombre debe tener al menos 3 caracteres"}),description:d.string({required_error:"La descripción es requerida"}).min(3,{message:"La descripción debe tener al menos 3 caracteres"}),prizes:d.array(d.object({name:d.string({required_error:"Nombre es requerido"}).min(3,{message:"Nombre debe tener al menos 3 caracteres"}),description:d.string({required_error:"La descripción es requerida"}).min(3,{message:"La descripción debe tener al menos 3 caracteres"}),prize_value:d.number({required_error:"Valor de premio es requerido"}).min(1,{message:"Valor de premio debe ser al menos 1"})})).min(1),start_date:d.string({required_error:"La fecha de inicio es requerida"}).datetime({message:"Debe ingresar una fecha válida"}),end_date:d.string({required_error:"La fecha de finalización es requerida"}).datetime({message:"Debe ingresar una fecha válida"}),image:d.instanceof(File).refine(c=>c instanceof File,{message:"Debe seleccionar una imagen"}).refine(c=>o.includes(c.type),{message:"Tipo de archivo no aceptado"}).refine(c=>c.size<=ne,{message:"El archivo es demasiado grande"})})),l=X({validationSchema:n}),i=l.handleSubmit(async c=>{a.value=!0,l.setErrors({}),await new Promise(p=>setTimeout(p,500)),console.log(JSON.stringify(c,null,2))});return(c,p)=>{const z=F("auto-animate");return u(),g("form",{onSubmit:p[0]||(p[0]=N((...y)=>e(i)&&e(i)(...y),["prevent"])),class:"w-full","aria-disabled":a.value},[s(e(U),{name:"name"},{default:t(({componentField:y})=>[s(e(Y),null,{default:t(()=>[s(e(Z),null,{default:t(()=>[h("Nombre")]),_:1}),s(e(G),null,{default:t(()=>[s(e(Q),v({type:"text",placeholder:"Nombre de la Rifa"},y,{required:""}),null,16)]),_:2},1024),L((u(),g("div",null,[s(e(K))])),[[z]])]),_:2},1024)]),_:1})],40,re)}}}),ie=f({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(r,{emit:a}){const l=C(r,a);return(i,c)=>(u(),b(e(S),q(k(e(l))),{default:t(()=>[_(i.$slots,"default")]),_:3},16))}}),ce=f({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(r){const a=r;return(o,n)=>(u(),b(e(A),q(k(a)),{default:t(()=>[_(o.$slots,"default")]),_:3},16))}}),de=f({__name:"DialogHeader",props:{class:{}},setup(r){const a=r;return(o,n)=>(u(),g("div",{class:B(e(x)("flex flex-col gap-y-1.5 text-center sm:text-left",a.class))},[_(o.$slots,"default")],2))}}),ue=f({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const a=r,o=D(()=>{const{class:l,...i}=a;return i}),n=P(o);return(l,i)=>(u(),b(e(T),v(e(n),{class:e(x)("text-lg font-semibold leading-none tracking-tight",a.class)}),{default:t(()=>[_(l.$slots,"default")]),_:3},16,["class"]))}}),me=f({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(r){const a=r,o=D(()=>{const{class:l,...i}=a;return i}),n=P(o);return(l,i)=>(u(),b(e(j),v(e(n),{class:e(x)("text-sm text-muted-foreground",a.class)}),{default:t(()=>[_(l.$slots,"default")]),_:3},16,["class"]))}});const fe=W("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pe=m("span",{class:"sr-only"},"Close",-1),_e=f({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(r,{emit:a}){const o=r,n=a,l=D(()=>{const{class:c,...p}=o;return p}),i=C(l,n);return(c,p)=>(u(),b(e(R),null,{default:t(()=>[s(e(M),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),s(e(O),v(e(i),{class:e(x)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",o.class)}),{default:t(()=>[_(c.$slots,"default"),s(e(V),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:t(()=>[s(e(fe),{class:"w-4 h-4"}),pe]),_:1})]),_:3},16,["class"])]),_:3}))}}),ge=f({__name:"DialogFooter",props:{class:{}},setup(r){const a=r;return(o,n)=>(u(),g("div",{class:B(e(x)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",a.class))},[_(o.$slots,"default")],2))}}),he={class:"w-full flex flex-col gap-4"},be={class:"-mx-4 -mt-4 h-16 px-4 sticky top-16 bg-background/90 backdrop-blur-sm z-10"},xe={class:"w-full h-full py-4 flex flex-col justify-center items-center border-b"},ve=m("span",null,"Crear rifa",-1),ye={class:"px-6 py-4 overflow-y-auto"},we={class:"w-full flex flex-col items-center"},$e={class:"w-full max-w-2xl flex flex-col gap-4"},Fe=f({__name:"RafflesView",setup(r){const a=$(!1),o=$([]);return I(async()=>{a.value=!0,await H().then(n=>{o.value=n}).catch(n=>{console.log(n)}).finally(()=>{a.value=!1})}),(n,l)=>(u(),g("div",he,[m("div",be,[m("div",xe,[s(e(ie),null,{default:t(()=>[s(e(ce),{class:"self-end"},{default:t(()=>[s(e(w),{class:"gap-2"},{default:t(()=>[s(e(oe),{class:"w-6 h-6"}),ve]),_:1})]),_:1}),s(e(_e),{class:"transition-[opacity,_transform] gap-0 p-0 max-w-2xl w-[calc(100vw-2rem)] max-h-[calc(100dvh-2rem)] rounded-lg grid-rows-[auto_minmax(0,1fr)_auto]"},{default:t(()=>[s(e(de),{class:"p-6 pb-4 border-b"},{default:t(()=>[s(e(ue),null,{default:t(()=>[h("Crear Rifa")]),_:1}),s(e(me),null,{default:t(()=>[h(" Crea una nueva rifa ")]),_:1})]),_:1}),m("div",ye,[s(le)]),s(e(ge),{class:"p-6 pt-4 border-t"},{default:t(()=>[s(e(w),{variant:"ghost"},{default:t(()=>[h("Cancelar")]),_:1}),s(e(w),null,{default:t(()=>[h("Crear")]),_:1})]),_:1})]),_:1})]),_:1})])]),m("div",we,[m("div",$e,[s(E,{raffles:o.value,loading:a.value},null,8,["raffles","loading"])])])]))}});export{Fe as default};
